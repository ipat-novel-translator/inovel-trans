‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡πà‡∏≠: ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô Multi-Novel
======================================
‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå - ‡πÅ‡∏¢‡∏Å‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô subfolder ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ novels/ ‡πÇ‡∏î‡∏¢‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (src, translated, glossary, logs) ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ô‡∏±‡πâ‡∏ô
‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ path - ‡∏™‡∏£‡πâ‡∏≤‡∏á path_utils.py ‡πÄ‡∏û‡∏∑‡πà‡∏≠ centralize ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á path ‡∏ï‡∏≤‡∏° --novel ‚Üí ‡∏•‡∏î code duplication
CLI ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà - ‡∏ó‡∏∏‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏£‡∏±‡∏ö --novel <name> ‚Üí ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå
‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¥‡∏™‡∏£‡∏∞ - ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏ä‡∏£‡πå glossary ‡∏´‡∏£‡∏∑‡∏≠ metadata ‚Üí ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏ô‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï (GUI) - main_gui.py ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å CLI commands ‡∏ú‡πà‡∏≤‡∏ô subprocess ‚Üí ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô logic ‡∏ã‡πâ‡∏≥

üîç ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
-------------------------
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á --novel
- ‡πÄ‡∏û‡∏¥‡πà‡∏° validation ‡πÉ‡∏ô path_utils.py ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå:

python
if not os.path.exists(f"novels/{novel_name}"):
    raise ValueError(f"Novel '{novel_name}' not found in novels/ directory.")

- ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏° --list-novels ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ
2. config ‡∏Å‡∏•‡∏≤‡∏á vs config ‡∏ï‡πà‡∏≠‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢
- .env, vertex-ai-key.json, ‡∏Ø‡∏•‡∏Ø ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà root (‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ)
- ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏ö‡∏≤‡∏á‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ API key ‡∏´‡∏£‡∏∑‡∏≠ model ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô ‚Üí ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞ novel ‡∏°‡∏µ config.yaml ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (optional override)
3. ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡πÄ‡∏ä‡πà‡∏ô sword_of_dawn ‡πÅ‡∏ó‡∏ô ‡∏î‡∏≤‡∏ö‡πÅ‡∏´‡πà‡∏á‡∏£‡∏∏‡πà‡∏á‡∏≠‡∏£‡∏∏‡∏ì
- ‡∏≠‡∏≤‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå novel_info.json ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ novel ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• (display name), ‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö, ‡∏Ø‡∏•‡∏Ø
4. ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö relative path ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö reprocess
- ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ reprocess.py ‡∏£‡∏±‡∏ö path ‡πÅ‡∏ö‡∏ö chapters_src/sa_0001.txt
- ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏´‡πâ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô path ‡πÄ‡∏ï‡πá‡∏°‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å --novel ‚Üí ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå path ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°
5. logging ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢
- ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô log ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô logs/ ‚Üí ‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô novels/novel_A/logs/
- ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå log ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢: novel_A_20240615.log

üß™ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á path_utils.py
-----------------------------
python
# path_utils.py
import os
from pathlib import Path

def get_novel_path(novel_name: str) -> Path:
    base = Path("novels") / novel_name
    if not base.exists():
        raise FileNotFoundError(f"Novel directory not found: {base}")
    return base

def get_chapters_src_path(novel_name: str) -> Path:
    return get_novel_path(novel_name) / "chapters_src"

def get_glossary_path(novel_name: str) -> Path:
    return get_novel_path(novel_name) / "glossary.yaml"

def get_translated_path(novel_name: str) -> Path:
    return get_novel_path(novel_name) / "chapters_translated"

‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ô ip-Trans.py:
--------------------
python
from path_utils import get_chapters_src_path, get_glossary_path
novel = args.novel
src_dir = get_chapters_src_path(novel)
glossary_file = get_glossary_path(novel)


üöÄ ‡∏™‡∏£‡∏∏‡∏õ‡∏ó‡πâ‡∏≤‡∏¢
====================
‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥ refactoring ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ç‡∏â‡∏•‡∏≤‡∏î:
-‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô core logic
-‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
-‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï
‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö ip-Trans ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô ‚Äú‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏õ‡∏•‡∏ô‡∏¥‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏õ‡∏£‚Äù ‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≤‡∏¢‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á 